{% extends 'base.html' %}

{% block title %}Dashboard - Gestión de Alumnos{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1 class="h3 fw-bold mb-1">Gestión de Alumnos</h1>
        <p class="text-muted mb-0">Administra la información académica de tus estudiantes</p>
    </div>
    <a href="{% url 'agregar_alumno' %}" class="btn btn-primary-custom">
        Agregar Alumno
    </a>
</div>

{% if alumnos %}
<div class="card-modern fade-in-up">
    <div class="table-responsive">
        <table class="table table-modern table-hover align-middle mb-0">
            <thead>
                <tr>
                    <th>Alumno</th>
                    <th>Contacto</th>
                    <th>Carrera</th>
                    <th>Fecha Ingreso</th>
                    <th class="text-center">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for alumno in alumnos %}
                <tr class="fade-in-up">

                <td>
                        <div class="d-flex align-items-center">
                            <div class="avatar avatar-primary me-3">
                                {{ alumno.nombre|first }}{{ alumno.apellido|first }}
                            </div>
                            <div>
                                <strong>{{ alumno.nombre }} {{ alumno.apellido }}</strong>
                                {% if alumno.dni %}
                                <br><small class="text-muted">DNI: {{ alumno.dni }}</small>
                                {% endif %}
                            </div>
                        </div>
                    </td>
                    <td>
                        <div>
                            <small class="text-muted">{{ alumno.email }}</small>
                            {% if alumno.telefono %}
                            <br><small class="text-muted">{{ alumno.telefono }}</small>
                            {% endif %}
                        </div>
                    </td>
                    <td>
                        {% if alumno.carrera %}
                        <span class="badge-custom">{{ alumno.carrera }}</span>
                        {% else %}
                        <span class="text-muted">-</span>
                        {% endif %}
                    </td>
                    <td>
                        <small class="text-muted">{{ alumno.fecha_inscripcion|date:"d/m/Y" }}</small>
                    </td>
                    <td class="text-center">
                        <div class="btn-group">
                            <a href="{% url 'editar_alumno' alumno.id %}" class="btn btn-sm btn-outline-custom">
                                Editar
                            </a>
                            <a href="{% url 'generar_pdf_alumno' alumno.id %}" class="btn btn-sm btn-secondary-custom">
                                PDF
                            </a>
                            <a href="{% url 'eliminar_alumno' alumno.id %}" class="btn btn-sm btn-outline-custom">
                                Eliminar
                            </a>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% else %}
<div class="card-modern text-center p-5 fade-in-up">
    <h3 class="fw-bold mb-3">No hay alumnos registrados</h3>
    <p class="text-muted mb-4">Comienza agregando tu primer alumno al sistema</p>
    <a href="{% url 'agregar_alumno' %}" class="btn btn-primary-custom">
        Agregar Primer Alumno
    </a>
</div>
{% endif %}
{% endblock %}